@import "tailwindcss";
@plugin "@iconify/tailwind4";

/* ------------------------------
   Custom variants for data-theme
---------------------------------*/
@custom-variant dark (&:where([data-theme="dark"], [data-theme="dark"] *));
@custom-variant light (&:where([data-theme="light"], [data-theme="light"] *));

/* ------------------------------
   Theme tokens
---------------------------------*/
@theme {
  /* breakpoints */
  --breakpoint-3xl: 120rem; /* 1920 */
  --breakpoint-4xl: 160rem; /* 2560 */

  /* colors (HSL) */
  --color-black: hsl(0 0% 0%);
  --color-white: hsl(0 0% 100%);
  --color-pink: hsl(314 97% 44%);
  --color-red: hsl(0 100% 50%);
  --color-purple: hsl(248 65% 50%);
  --color-yellow: hsl(73 100% 50%);
  --color-blue: hsl(220 100% 50%);
  --color-green: hsl(108 100% 50%);
  --color-grey: hsl(0 0% 50%);
  --color-grey-light: hsl(0 0% 70%);
  --color-grey-lighter: hsl(0 0% 95%);
  --color-grey-dark: hsl(0 0% 20%);
  --color-grey-darker: hsl(0 0% 10%);
  --color-grey-darkest: hsl(0 0% 2%);
  --color-transparent: hsl(0 0% 0% / 0);

  /* font sizes for headings and text via clamp()  */
  --text-h1: clamp(3rem, 12.5vw, 17.5rem);
  --leading-h1: 12.5vw;
  --text-h2: clamp(2.5rem, 4vw, 8rem);
  --text-h3: clamp(2rem, 3vw, 4.5rem);
  --text-h4: clamp(1.75rem, 2vw, 3rem);
  --text-body: clamp(1.25rem, 1.25vw, 2rem);
  --text-small: clamp(1rem, 1vw, 1.25rem);
}

/* ------------------------------
   Fonts
---------------------------------*/
@font-face {
  font-family: "Actay";
  src: url("./assets/fonts/ActayWide-Bold.otf") format("opentype");
  font-weight: normal;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: "basis33";
  src: url("./assets/fonts/basis33.regular.ttf") format("opentype");
  font-weight: normal;
  font-style: normal;
  font-display: swap;
}

:root {
  --cursor-size: 15px;
  --cursor-size-active: 35px;
  --cursor-size-label: 150px;
}

/* ------------------------------
   Base styles (Tailwind-friendly)
---------------------------------*/
@layer base {
  * {
    font-family: "basis33", sans-serif;
    font-optical-sizing: auto;
    font-weight: 200;
    text-transform: uppercase;
    /* hide native scrollbars */
    &::-webkit-scrollbar {
      display: none;
    }
  }

  h1,
  h2,
  h3,
  h4 {
    font-family: "Actay", sans-serif;
    text-transform: uppercase;
  }
  h1 {
    font-size: var(--text-h1);
    line-height: var(--leading-h1);
  }
  h2 {
    font-size: var(--text-h2);
  }
  h3 {
    font-size: var(--text-h3);
  }
  h4 {
    font-size: var(--text-h4);
  }

  p,
  a,
  button,
  .app-cursor {
    font-size: var(--text-body);
  }
  small,
  .design span {
    font-size: var(--text-small);
  }

  /* theme: light (note: your light theme is inverted: black bg, white text) */
  @variant light {
    *::selection {
      background-color: var(--color-white);
      color: var(--color-black);
    }

    body {
      background-color: var(--color-black);
      color: var(--color-white);
      background-size: 25px 25px;
      background-image: linear-gradient(var(--color-grey-darkest) 1px, transparent 1px), linear-gradient(to right, var(--color-grey-darkest) 1px, transparent 1px);
    }

    a {
      color: var(--color-white);
    }
    a:hover {
      color: var(--color-white);
    }

    hr {
      color: var(--color-grey);
    }

    svg:hover polygon,
    svg:hover path,
    svg:hover rect {
      fill: var(--color-white);
    }

    .design {
      transition: all 0.25s;
    }
    .design h3 {
      color: var(--color-white);
    }
    .design:hover {
      background-color: var(--color-white);
    }
    .design:hover * {
      color: var(--color-black);
    }

    .dotted-grid {
      background-image: radial-gradient(circle, var(--color-grey-darker) 0, var(--color-grey-darker) 2.5px, var(--color-transparent) 2.5px);
    }
  }
}

/* ------------------------------
   Keyframes
---------------------------------*/
@keyframes noise {
  0% {
    transform: translate3d(0, 9rem, 0);
  }
  10% {
    transform: translate3d(-1rem, -4rem, 0);
  }
  20% {
    transform: translate3d(-8rem, 2rem, 0);
  }
  30% {
    transform: translate3d(9rem, -9rem, 0);
  }
  40% {
    transform: translate3d(-2rem, 7rem, 0);
  }
  50% {
    transform: translate3d(-9rem, -4rem, 0);
  }
  60% {
    transform: translate3d(2rem, 6rem, 0);
  }
  70% {
    transform: translate3d(7rem, -8rem, 0);
  }
  80% {
    transform: translate3d(-9rem, 1rem, 0);
  }
  90% {
    transform: translate3d(6rem, -5rem, 0);
  }
  to {
    transform: translate3d(-7rem, 0, 0);
  }
}

/* ------------------------------
   Utilities
---------------------------------*/
@layer utilities {
  /* dotted grid helpers */
  .dotted-grid {
    background-size: 25px 25px;
  }

  /* progress bar (defaults to vertical grow via height) */
  .progress-bar {
    width: 5px;
    height: 0;
    transition: height 0.1s ease;
  }

  /* subtle card hover nudge */
  .design {
    transition: all 0.25s;
  }
  .design:hover {
    transform: translate(5px, 5px);
  }

  /* corner-frame decorative borders */
  .corner-frame {
    --cf-color: currentColor;
    --cf-size: 1px;
    --cf-length: 24px;
    background:
      linear-gradient(to right, var(--cf-color) 0%, var(--cf-color) 100%) top left / var(--cf-length) var(--cf-size) no-repeat,
      linear-gradient(to bottom, var(--cf-color) 0%, var(--cf-color) 100%) top left / var(--cf-size) var(--cf-length) no-repeat,
      linear-gradient(to right, var(--cf-color) 0%, var(--cf-color) 100%) top right / var(--cf-length) var(--cf-size) no-repeat,
      linear-gradient(to bottom, var(--cf-color) 0%, var(--cf-color) 100%) top right / var(--cf-size) var(--cf-length) no-repeat,
      linear-gradient(to right, var(--cf-color) 0%, var(--cf-color) 100%) bottom left / var(--cf-length) var(--cf-size) no-repeat,
      linear-gradient(to bottom, var(--cf-color) 0%, var(--cf-color) 100%) bottom left / var(--cf-size) var(--cf-length) no-repeat,
      linear-gradient(to right, var(--cf-color) 0%, var(--cf-color) 100%) bottom right / var(--cf-length) var(--cf-size) no-repeat,
      linear-gradient(to bottom, var(--cf-color) 0%, var(--cf-color) 100%) bottom right / var(--cf-size) var(--cf-length) no-repeat;
    background-origin: padding-box;
  }

  /* glow helpers */
  .glow-xl {
    filter: drop-shadow(0 0 200px #fff);
  }
  .glow-lg {
    filter: drop-shadow(0 0 75px #fff);
  }

  /* noise overlay (local asset version) */
  .noise {
    position: fixed;
    inset: 0;
    transform: translateZ(0);
  }
  .noise:before {
    content: "";
    position: fixed;
    top: -10rem;
    left: -10rem;
    width: calc(100% + 20rem);
    height: calc(100% + 20rem);
    background-image: url("assets/images/noise.png");
    opacity: 0.15;
    pointer-events: none;
    animation: noise 1s steps(2) infinite;
  }

  /* grain overlay (CDN sample) */
  .grain {
    position: fixed;
    inset: 0;
    transform: translateZ(0);
  }
  .grain:before {
    content: "";
    position: fixed;
    top: -10rem;
    left: -10rem;
    width: calc(100% + 20rem);
    height: calc(100% + 20rem);
    background-image: url(https://upload.wikimedia.org/wikipedia/commons/5/5c/Image_gaussian_noise_example.png);
    opacity: 0.15;
    pointer-events: none;
    animation: noise 1s steps(2) infinite;
  }

  /* custom cursor */
  .use-custom-cursor body * {
    cursor: none;
  }

  .app-cursor {
    position: fixed;
    left: 0;
    top: 0;
    width: var(--cursor-size);
    height: var(--cursor-size);
    border-radius: 50%;
    background: var(--color-white);
    color: var(--color-black);
    mix-blend-mode: difference;
    pointer-events: none;
    z-index: 1000;
    transform: translate(-50%, -50%);
    transition:
      width 0.18s ease,
      height 0.18s ease,
      opacity 0.2s ease;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  .app-cursor::after {
    content: attr(data-label);
    opacity: 0;
    transform: translateY(2px) scale(1);
    transition:
      opacity 0.18s ease,
      transform 0.18s ease;
  }
  .app-cursor.is-active {
    width: var(--cursor-size-active);
    height: var(--cursor-size-active);
  }
  .app-cursor.has-label {
    width: var(--cursor-size-label);
    height: var(--cursor-size-label);
    border-radius: 100px;
  }
  .app-cursor.has-label::after {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}
